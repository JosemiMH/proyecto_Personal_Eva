import{a as i,y as x,j as e,W as p,Y as h,Z as j,_ as g,$ as b,B as f,a2 as N,z as y}from"./index-DLF7FulM.js";import{z as d,u as F,t as A,F as S,a as v,b as C,c as E,d as I,I as G,e as T}from"./input-C3GbeGlJ.js";const z=()=>{const[o,n]=i.useState(!1),[a,l]=i.useState(null),{toast:c}=x(),m=d.object({topic:d.string().min(5,{message:"El tema debe tener al menos 5 caracteres."})}),s=F({resolver:A(m),defaultValues:{topic:""}}),u=async t=>{n(!0),l(null);try{const r=await y({method:"POST",path:"/api/articles/generate",body:{topic:t.topic}});l(r.data),c({title:"Artículo generado con éxito",description:`El artículo "${r.data.title}" ha sido creado y publicado.`}),s.reset()}catch(r){console.error(r),c({title:"Error",description:"No se pudo generar el artículo. Verifica la configuración de OpenAI.",variant:"destructive"})}finally{n(!1)}};return e.jsx("div",{className:"container mx-auto py-24 px-4",children:e.jsxs(p,{className:"max-w-2xl mx-auto",children:[e.jsxs(h,{children:[e.jsx(j,{className:"text-2xl font-playfair",children:"Generador de Artículos con IA"}),e.jsx(g,{children:"Introduce un tema para generar automáticamente un artículo de blog optimizado para SEO y publicarlo."})]}),e.jsxs(b,{children:[e.jsx(S,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(u),className:"space-y-6",children:[e.jsx(v,{control:s.control,name:"topic",render:({field:t})=>e.jsxs(C,{children:[e.jsx(E,{children:"Tema del Artículo"}),e.jsx(I,{children:e.jsx(G,{placeholder:"Ej: Tendencias de bienestar en hoteles de lujo 2025",...t})}),e.jsx(T,{})]})}),e.jsx(f,{type:"submit",className:"w-full bg-turquoise hover:bg-turquoise-dark",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),"Generando contenido..."]}):"Generar y Publicar"})]})}),a&&e.jsxs("div",{className:"mt-8 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h3",{className:"font-bold text-green-800 mb-2",children:"¡Artículo Publicado!"}),e.jsxs("p",{className:"text-sm text-green-700 mb-2",children:[e.jsx("strong",{children:"Título:"})," ",a.title]}),e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"Slug:"})," ",a.slug]}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:"/#blog",className:"text-turquoise hover:underline text-sm font-medium",children:"Ver en el blog →"})})]})]})]})})};export{z as default};
