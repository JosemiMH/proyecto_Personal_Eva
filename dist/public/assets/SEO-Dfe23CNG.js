import{u as y,y as f,a as v,a7 as b,j as e,D as w,a8 as S,b as F,a9 as E,d as D,e as N,B as C,a2 as q,z,f as I,aa as P}from"./index-Q7RvaKi1.js";import{z as r,u as T,t as A,F as H,a as l,b as c,c as m,d,I as g,e as u}from"./input-DE8uIR3A.js";import{T as O}from"./textarea-DqJnXPFN.js";function B({children:n}){const{t}=y(),{toast:p}=f(),[x,o]=v.useState(!1),j=r.object({name:r.string().min(2,"Name required"),email:r.string().email("Invalid email"),phone:r.string().optional(),company:r.string().min(2,"Company required"),message:r.string().min(5,"Challenge details required"),service:r.string().default("Auditoría Estratégica"),privacy:r.literal(!0)}),a=T({resolver:A(j),defaultValues:{name:"",email:"",phone:"",company:"",message:"",service:"Auditoría Estratégica",privacy:!0}}),i=b({mutationFn:async s=>(await z({method:"POST",path:"/api/contact",body:s})).json(),onSuccess:()=>{p({title:t("audit.success"),variant:"default"}),o(!1),a.reset()},onError:()=>{p({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}});function h(s){i.mutate(s)}return e.jsxs(w,{open:x,onOpenChange:o,children:[e.jsx(S,{asChild:!0,children:n}),e.jsxs(F,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(E,{children:[e.jsx(D,{children:t("audit.title")}),e.jsx(N,{children:t("audit.description")})]}),e.jsx(H,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(h),className:"space-y-4 py-4",children:[e.jsx(l,{control:a.control,name:"name",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:t("audit.name")}),e.jsx(d,{children:e.jsx(g,{placeholder:"Eva Pérez",...s})}),e.jsx(u,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{control:a.control,name:"email",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:t("audit.email")}),e.jsx(d,{children:e.jsx(g,{placeholder:"eva@example.com",...s})}),e.jsx(u,{})]})}),e.jsx(l,{control:a.control,name:"phone",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:t("audit.phone")}),e.jsx(d,{children:e.jsx(g,{placeholder:"+34 600...",...s})}),e.jsx(u,{})]})})]}),e.jsx(l,{control:a.control,name:"company",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:t("audit.hotel")}),e.jsx(d,{children:e.jsx(g,{placeholder:"Grand Hotel & Spa...",...s})}),e.jsx(u,{})]})}),e.jsx(l,{control:a.control,name:"message",render:({field:s})=>e.jsxs(c,{children:[e.jsx(m,{children:t("audit.challenge")}),e.jsx(d,{children:e.jsx(O,{placeholder:t("audit.subtitle"),className:"resize-none",...s})}),e.jsx(u,{})]})}),e.jsxs(C,{type:"submit",className:"w-full bg-turquoise hover:bg-turquoise-dark text-white",disabled:i.isPending,children:[i.isPending&&e.jsx(q,{className:"mr-2 h-4 w-4 animate-spin"}),t("audit.submit")]})]})})]})]})}function R({className:n,...t}){return e.jsx("div",{className:I("animate-pulse rounded-md bg-muted",n),...t})}function U({title:n,description:t,image:p,url:x}){const o="https://evaperez-wellness.com",j=x?`${o}${x}`:o,a=`${o}/og-image.jpg`,i=p||a;return e.jsxs(P,{children:[e.jsxs("title",{children:[n," | Eva Pérez - Wellness & Hospitality Strategy"]}),e.jsx("meta",{name:"description",content:t}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:j}),e.jsx("meta",{property:"og:title",content:n}),e.jsx("meta",{property:"og:description",content:t}),e.jsx("meta",{property:"og:image",content:i}),e.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{property:"twitter:url",content:j}),e.jsx("meta",{property:"twitter:title",content:n}),e.jsx("meta",{property:"twitter:description",content:t}),e.jsx("meta",{property:"twitter:image",content:i})]})}export{B as A,R as S,U as a};
