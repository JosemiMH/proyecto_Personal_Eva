{
  "version": 3,
  "sources": ["../server/index.ts", "../server/routes.ts", "../server/storage-minimal.ts", "../server/email-minimal.ts", "../shared/schema.ts", "../server/vite.ts", "../server/auth.ts", "../server/storage.ts", "../server/db.ts"],
  "sourcesContent": ["import 'dotenv/config';\nimport express from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { setupAuth } from \"./auth\";\n\nimport helmet from \"helmet\";\n\nconst app = express();\napp.use(helmet({\n  contentSecurityPolicy: {\n    directives: {\n      defaultSrc: [\"'self'\"],\n      scriptSrc: [\"'self'\", \"'unsafe-inline'\", \"https://replit.com\", \"https://*.replit.com\", \"https://cdnjs.cloudflare.com\"],\n      styleSrc: [\"'self'\", \"'unsafe-inline'\", \"https://fonts.googleapis.com\", \"https://cdnjs.cloudflare.com\"],\n      fontSrc: [\"'self'\", \"https://fonts.gstatic.com\", \"https://cdnjs.cloudflare.com\"],\n      imgSrc: [\"'self'\", \"data:\", \"https://images.unsplash.com\", \"https://*.replit.com\"],\n      connectSrc: [\"'self'\", \"ws:\", \"wss:\", \"https://*.replit.com\"],\n    },\n  },\n}));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"\u2026\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  try {\n    console.log('');\n    console.log('\uD83D\uDE80 ================================');\n    console.log('\uD83D\uDE80 PersonalBrandSpa MINIMAL VERSION');\n    console.log('\uD83D\uDE80 ================================');\n    console.log(`Environment: ${app.get(\"env\")}`);\n    console.log(`Node: ${process.version}`);\n    console.log(`Platform: ${process.platform}`);\n    console.log('');\n    console.log('\u2705 Database: DISABLED (memory only)');\n    console.log('\u2705 Email: DISABLED (console only)');\n    console.log('\u2705 OpenAI: DISABLED');\n    console.log('');\n\n    // Setup auth and routes (simplified)\n    setupAuth(app);\n    const server = await registerRoutes(app);\n\n    // Error handler\n    app.use((err: any, _req: express.Request, res: express.Response, _next: express.NextFunction) => {\n      const status = err.status || err.statusCode || 500;\n      const message = err.message || \"Internal Server Error\";\n      res.status(status).json({ message });\n      console.error('\u274C Error:', message);\n    });\n\n    // Setup Vite (dev) or static serving (production)\n    const environment = app.get(\"env\");\n    if (environment === \"development\") {\n      console.log(\"Setting up Vite dev server...\");\n      await setupVite(app, server);\n    } else {\n      console.log(\"\uD83D\uDCC1 Serving static files from dist/public\");\n      serveStatic(app);\n    }\n\n    // Start listening\n    const port = parseInt(process.env.PORT || \"5000\", 10);\n\n    server.listen(port, () => {\n      console.log('');\n      console.log('\u2705 ================================');\n      console.log(`\u2705 SERVER STARTED SUCCESSFULLY!`);\n      console.log(`\u2705 Port: ${port}`);\n      console.log(`\u2705 URL: http://localhost:${port}`);\n      console.log('\u2705 ================================');\n      console.log('');\n      console.log('\u26A0\uFE0F  REMEMBER: This is a minimal version');\n      console.log('\u26A0\uFE0F  - No database (data in memory only)');\n      console.log('\u26A0\uFE0F  - No emails sent (logged to console)');\n      console.log('\u26A0\uFE0F  - No AI chatbot');\n      console.log('');\n    });\n\n  } catch (error) {\n    console.error('');\n    console.error('\u274C ================================');\n    console.error('\u274C FATAL STARTUP ERROR');\n    console.error('\u274C ================================');\n    console.error(error);\n    console.error('');\n    process.exit(1);\n  }\n})();\n\n// Global error handler for uncaught exceptions\nprocess.on('uncaughtException', (err) => {\n  console.error('Uncaught Exception:', err);\n  // Keep process alive if possible, or exit cleanly?\n  // Usually exit(1) is better for restart policies, but let's log extensively.\n});\n\nprocess.on('unhandledRejection', (reason, promise) => {\n  console.error('Unhandled Rejection at:', promise, 'reason:', reason);\n});\n", "import express, { type Request, Response, NextFunction } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport type { Express } from \"express\";\nimport OpenAI from \"openai\";\n\n// Minimal imports - no database\nimport { storage } from \"./storage-minimal\";\nimport { emailService } from \"./email-minimal\";\n\n// Schemas still needed for validation\nimport {\n  contactSchema,\n  newsletterSchema,\n  appointmentSchema,\n} from \"@shared/schema\";\n\nimport { z } from \"zod\";\nimport { ZodError } from \"zod-validation-error\"; // Keep this as it's used later\nimport { handleChatRequest } from \"./api/chat\"; // Keep this as it's used later\nimport rateLimit from \"express-rate-limit\";\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // limit each IP to 100 requests per windowMs\n  standardHeaders: true,\n  legacyHeaders: false,\n  message: \"Too many requests from this IP, please try again later\"\n});\n\nconst authLimiter = rateLimit({\n  windowMs: 60 * 60 * 1000, // 1 hour\n  max: 5, // 5 failed attempts\n  message: \"Too many login attempts, please try again after an hour\"\n});\n\n// Helper for sanitization\nfunction sanitizeInput(text: string): string {\n  if (!text) return \"\";\n  return text.replace(/[<>]/g, \"\").trim();\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Contact form endpoint\n  app.use('/resources', express.static('resources'));\n\n  // Health check endpoint\n  app.get('/health', (_req, res) => {\n    res.status(200).json({ status: 'ok', uptime: process.uptime() });\n  });\n\n  app.post('/api/contact', limiter, async (req, res) => {\n    // Sanitize\n    if (req.body) {\n      if (typeof req.body.message === 'string') req.body.message = sanitizeInput(req.body.message);\n      if (typeof req.body.name === 'string') req.body.name = sanitizeInput(req.body.name);\n      if (typeof req.body.company === 'string') req.body.company = sanitizeInput(req.body.company);\n    }\n    try {\n      const contactData = contactSchema.parse(req.body);\n      const savedContact = await storage.createContact(contactData);\n\n      // Send email notification\n      await emailService.sendEmail({\n        to: \"eva@evaperez-wellness.com\", // Replace with actual admin email or env var\n        subject: `Nuevo mensaje de contacto: ${contactData.name}`,\n        text: `\n          Nombre: ${contactData.name}\n          Email: ${contactData.email}\n          Empresa: ${contactData.company || \"N/A\"}\n          Servicio: ${contactData.service}\n          Mensaje: ${contactData.message}\n        `,\n      });\n\n      // Send auto-response to user\n      await emailService.sendEmail({\n        to: contactData.email,\n        subject: \"Hemos recibido tu mensaje - Eva P\u00E9rez\",\n        text: `\nHola ${contactData.name},\n\nGracias por contactar conmigo. He recibido tu mensaje correctamente.\n\nRevisar\u00E9 tu consulta sobre \"${contactData.service}\" y me pondr\u00E9 en contacto contigo lo antes posible, normalmente en un plazo de 24-48 horas laborables.\n\nAtentamente,\nEva P\u00E9rez\nSpa Manager & Wellness Consultant\nhttps://evaperez-wellness.com\n        `,\n      });\n\n      return res.status(200).json({\n        success: true,\n        message: \"Mensaje enviado correctamente\",\n        data: savedContact\n      });\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          success: false,\n          message: \"Datos del formulario inv\u00E1lidos\",\n          errors: error.errors\n        });\n      }\n\n      return res.status(500).json({\n        success: false,\n        message: \"Error al procesar la solicitud\"\n      });\n    }\n  });\n\n  // Newsletter subscription endpoint\n  app.post('/api/newsletter', limiter, async (req, res) => {\n    try {\n      const newsletterData = newsletterSchema.parse(req.body);\n      const savedSubscription = await storage.createNewsletterSubscription(newsletterData);\n\n      // Send email notification\n      await emailService.sendEmail({\n        to: \"eva@evaperez-wellness.com\",\n        subject: `Nueva suscripci\u00F3n a newsletter: ${newsletterData.email}`,\n        text: `Se ha suscrito un nuevo usuario: ${newsletterData.email}`,\n      });\n\n      // Send welcome email to user with ebook\n      await emailService.sendEmail({\n        to: newsletterData.email,\n        subject: \"\u00A1Bienvenido/a a la comunidad de Eva P\u00E9rez! + Tu E-Book gratuito\",\n        text: `\nHola,\n\nGracias por suscribirte a mi newsletter. Me alegra mucho tenerte aqu\u00ED.\n\nComo regalo de bienvenida, aqu\u00ED tienes tu E-Book gratuito:\n\"C\u00F3mo implementar IA en tu spa hotelero en 30 d\u00EDas\"\n\n\uD83D\uDCE5 Descarga aqu\u00ED: https://evaperez-wellness.com/resources/ebook-ia-spa-infographic.html\n\nEste E-Book incluye:\n\u2713 Pasos concretos para implementar IA en tu spa\n\u2713 Plantilla de implementaci\u00F3n lista para usar\n\u2713 Casos de uso reales y aplicables\n\nA partir de ahora recibir\u00E1s consejos exclusivos sobre estrategia de hospitalidad, bienestar de lujo y gesti\u00F3n de spas.\n\nSi tienes alguna pregunta o tema que te gustar\u00EDa que tratara, no dudes en responder a este correo.\n\nAtentamente,\nEva P\u00E9rez\nSpa Manager & Wellness Consultant\nhttps://evaperez-wellness.com\n        `,\n      });\n\n      return res.status(200).json({\n        success: true,\n        message: \"Suscripci\u00F3n completada correctamente\",\n        data: savedSubscription\n      });\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          success: false,\n          message: \"Email inv\u00E1lido\",\n          errors: error.errors\n        });\n      }\n\n      return res.status(500).json({\n        success: false,\n        message: \"Error al procesar la suscripci\u00F3n\"\n      });\n    }\n  });\n\n  // Chatbot API endpoint\n  // Chatbot endpoint - DISABLED for minimal version\n  app.post(\"/api/chat\", limiter, async (req, res) => {\n    return res.status(200).json({\n      response: {\n        role: \"assistant\",\n        content: \"Hola! El chatbot est\u00E1 temporalmente desactivado. Por favor, usa el formulario de contacto para comunicarte conmigo. \u00A1Gracias!\"\n      }\n    });\n  });\n\n  // Appointment endpoints\n  // 1. Crear una nueva cita\n  app.post('/api/appointments', async (req, res) => {\n    try {\n      const appointmentData = appointmentSchema.parse(req.body);\n      const savedAppointment = await storage.createAppointment(appointmentData);\n\n      // Send email notification\n      await emailService.sendEmail({\n        to: \"eva@evaperez-wellness.com\",\n        subject: `Nueva cita reservada: ${appointmentData.name}`,\n        text: `\n          Nombre: ${appointmentData.name}\n          Email: ${appointmentData.email}\n          Tel\u00E9fono: ${appointmentData.phone || \"N/A\"}\n          Empresa: ${appointmentData.company || \"N/A\"}\n          Fecha: ${new Date(appointmentData.date).toLocaleString()}\n          Servicio: ${appointmentData.service}\n          Mensaje: ${appointmentData.message || \"N/A\"}\n        `,\n      });\n\n      // Send auto-response to user\n      await emailService.sendEmail({\n        to: appointmentData.email,\n        subject: \"Solicitud de cita recibida - Eva P\u00E9rez\",\n        text: `\nHola ${appointmentData.name},\n\nGracias por solicitar una cita. He recibido tu petici\u00F3n para el d\u00EDa ${new Date(appointmentData.date).toLocaleDateString()} a las ${new Date(appointmentData.date).toLocaleTimeString()}.\n\nTu cita est\u00E1 actualmente en estado \"Pendiente de confirmaci\u00F3n\". Revisar\u00E9 mi agenda y te enviar\u00E9 un correo de confirmaci\u00F3n definitiva en breve.\n\nDetalles de la solicitud:\n- Servicio: ${appointmentData.service}\n- Fecha: ${new Date(appointmentData.date).toLocaleString()}\n\nSi necesitas modificar algo, por favor responde a este correo.\n\nAtentamente,\nEva P\u00E9rez\nSpa Manager & Wellness Consultant\nhttps://evaperez-wellness.com\n        `,\n      });\n\n      return res.status(201).json({\n        success: true,\n        message: \"Cita reservada correctamente\",\n        data: savedAppointment\n      });\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({\n          success: false,\n          message: \"Datos de la cita inv\u00E1lidos\",\n          errors: error.errors\n        });\n      }\n\n      return res.status(500).json({\n        success: false,\n        message: \"Error al procesar la solicitud de cita\"\n      });\n    }\n  });\n\n  // 2. Obtener slots disponibles para una fecha\n  app.get('/api/appointments/available', async (req, res) => {\n    try {\n      const dateParam = req.query.date;\n\n      if (!dateParam || typeof dateParam !== 'string') {\n        return res.status(400).json({\n          success: false,\n          message: \"Se requiere una fecha v\u00E1lida\"\n        });\n      }\n\n      const date = new Date(dateParam);\n\n      if (isNaN(date.getTime())) {\n        return res.status(400).json({\n          success: false,\n          message: \"Formato de fecha inv\u00E1lido\"\n        });\n      }\n\n      const availableSlots = await storage.getAvailableSlots(date);\n\n      return res.status(200).json({\n        success: true,\n        data: availableSlots\n      });\n    } catch (error) {\n      return res.status(500).json({\n        success: false,\n        message: \"Error al obtener los horarios disponibles\"\n      });\n    }\n  });\n\n  // 3. Obtener todas las citas (protegido con autenticaci\u00F3n en un entorno real)\n  app.get('/api/appointments', async (_req, res) => {\n    try {\n      const appointments = await storage.getAllAppointments();\n\n      return res.status(200).json({\n        success: true,\n        data: appointments\n      });\n    } catch (error) {\n      return res.status(500).json({\n        success: false,\n        message: \"Error al obtener las citas\"\n      });\n    }\n  });\n\n  // 4. Actualizar estado de una cita\n  app.patch('/api/appointments/:id/status', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const { status } = req.body;\n\n      if (!status || !['pending', 'confirmed', 'cancelled'].includes(status)) {\n        return res.status(400).json({\n          success: false,\n          message: \"Estado de cita inv\u00E1lido\"\n        });\n      }\n\n      const updatedAppointment = await storage.updateAppointmentStatus(id, status);\n\n      if (!updatedAppointment) {\n        return res.status(404).json({\n          success: false,\n          message: \"Cita no encontrada\"\n        });\n      }\n\n      return res.status(200).json({\n        success: true,\n        message: \"Estado de la cita actualizado correctamente\",\n        data: updatedAppointment\n      });\n    } catch (error) {\n      return res.status(500).json({\n        success: false,\n        message: \"Error al actualizar el estado de la cita\"\n      });\n    }\n  });\n\n  // Article endpoints\n  app.post('/api/articles/generate', async (req, res) => {\n    if (!req.isAuthenticated()) {\n      return res.status(401).send(\"Unauthorized\");\n    }\n    try {\n      const { topic } = req.body;\n      if (!topic) {\n        return res.status(400).json({ success: false, message: \"El tema es requerido\" });\n      }\n\n      if (!process.env.OPENAI_API_KEY) {\n        return res.status(503).json({ success: false, message: \"OpenAI API key no configurada\" });\n      }\n\n      const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n\n      const completion = await openai.chat.completions.create({\n        model: \"gpt-4o\",\n        messages: [\n          {\n            role: \"system\",\n            content: \"Eres un experto redactor de contenido para un blog de wellness y hospitalidad de lujo. Genera un art\u00EDculo en formato JSON con los siguientes campos: title, content (en markdown), excerpt, category, readTime (ej: '5 min read'). El contenido debe estar en ESPA\u00D1OL. El tono debe ser profesional, sofisticado y persuasivo, enfocado en hoteles de lujo y estrategias de bienestar.\"\n          },\n          {\n            role: \"user\",\n            content: `Escribe un art\u00EDculo sobre: ${topic}`\n          }\n        ],\n        response_format: { type: \"json_object\" }\n      });\n\n      const content = JSON.parse(completion.choices[0].message.content || \"{}\");\n\n      // Generate a slug from the title\n      const slug = content.title.toLowerCase()\n        .normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") // Remove accents\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/(^-|-$)+/g, '');\n\n      // Save to database\n      const article = await storage.createArticle({\n        slug,\n        title: content.title,\n        content: content.content,\n        excerpt: content.excerpt,\n        image: \"https://images.unsplash.com/photo-1540555700478-4be289fbecef?auto=format&fit=crop&w=800&q=80\", // Placeholder or use an image search API if available\n        category: content.category,\n        readTime: content.readTime,\n        date: new Date().toISOString(),\n        language: \"es\"\n      });\n\n      return res.status(201).json({ success: true, data: article });\n\n    } catch (error) {\n      console.error(\"Error generating article:\", error);\n      return res.status(500).json({ success: false, message: \"Error generando el art\u00EDculo\" });\n    }\n  });\n\n  app.get('/api/articles', async (_req, res) => {\n    try {\n      const articles = await storage.getAllArticles();\n      res.json(articles);\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener art\u00EDculos\" });\n    }\n  });\n\n  app.get('/api/articles/:slug', async (req, res) => {\n    try {\n      const article = await storage.getArticleBySlug(req.params.slug);\n      if (!article) {\n        return res.status(404).json({ message: \"Art\u00EDculo no encontrado\" });\n      }\n      res.json(article);\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener el art\u00EDculo\" });\n    }\n  });\n\n  app.patch('/api/articles/:id', async (req, res) => {\n    if (!req.isAuthenticated()) return res.sendStatus(401);\n    try {\n      const id = parseInt(req.params.id);\n      const updatedArticle = await storage.updateArticle(id, req.body);\n\n      if (!updatedArticle) {\n        return res.status(404).json({ message: \"Art\u00EDculo no encontrado\" });\n      }\n\n      res.json(updatedArticle);\n    } catch (error) {\n      res.status(500).json({ message: \"Error al actualizar el art\u00EDculo\" });\n    }\n  });\n\n  // Create HTTP server\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n", "import express from \"express-session\";\n\n/**\n * Minimal storage implementation using memory only\n * No database dependencies\n */\nexport class MinimalStorage {\n    sessionStore: express.Store;\n\n    // In-memory storage\n    private contacts: any[] = [];\n    private newsletters: any[] = [];\n    private appointments: any[] = [];\n\n    constructor() {\n        // Always use memory store\n        this.sessionStore = new express.MemoryStore();\n        console.log('\u2713 Using memory session store (no database)');\n    }\n\n    // Contact methods (in-memory)\n    async createContact(data: any) {\n        const contact = { id: this.contacts.length + 1, ...data, createdAt: new Date() };\n        this.contacts.push(contact);\n        console.log('\uD83D\uDCDD Contact saved to memory:', contact.email);\n        return contact;\n    }\n\n    async getAllContacts() {\n        return this.contacts;\n    }\n\n    // Newsletter methods (in-memory)\n    async createNewsletterSubscription(data: any) {\n        const existing = this.newsletters.find(n => n.email === data.email);\n        if (existing) {\n            console.log('\uD83D\uDCE7 Newsletter subscription already exists:', data.email);\n            return existing;\n        }\n        const subscription = { id: this.newsletters.length + 1, ...data, createdAt: new Date() };\n        this.newsletters.push(subscription);\n        console.log('\uD83D\uDCE7 Newsletter subscription saved to memory:', data.email);\n        return subscription;\n    }\n\n    async getAllNewsletterSubscriptions() {\n        return this.newsletters;\n    }\n\n    // Appointment methods (in-memory)\n    async createAppointment(data: any) {\n        const appointment = { id: this.appointments.length + 1, ...data, createdAt: new Date() };\n        this.appointments.push(appointment);\n        console.log('\uD83D\uDCC5 Appointment saved to memory:', appointment.email);\n        return appointment;\n    }\n\n    async getAppointmentById(id: number) {\n        return this.appointments.find(a => a.id === id);\n    }\n\n    async getAllAppointments() {\n        return this.appointments;\n    }\n\n    async getAvailableSlots(date: Date) {\n        // Simple mock: return 9am-6pm slots\n        const slots = [];\n        for (let hour = 9; hour < 18; hour++) {\n            const start = new Date(date);\n            start.setHours(hour, 0, 0, 0);\n            const end = new Date(date);\n            end.setHours(hour + 1, 0, 0, 0);\n            slots.push({ start, end });\n        }\n        return slots;\n    }\n\n    async updateAppointmentStatus(id: number, status: string) {\n        const appointment = this.appointments.find(a => a.id === id);\n        if (appointment) {\n            appointment.status = status;\n            console.log('\uD83D\uDCC5 Appointment status updated:', id, status);\n        }\n        return appointment;\n    }\n\n    // Article methods (mock - return empty for now)\n    async createArticle(data: any) {\n        console.log('\uD83D\uDCC4 Article creation not available (no database)');\n        return data;\n    }\n\n    async getArticleBySlug(slug: string) {\n        return null;\n    }\n\n    async getAllArticles() {\n        return [];\n    }\n}\n\nexport const storage = new MinimalStorage();\n", "/**\n * Minimal email service - logs to console instead of sending emails\n * No SMTP dependencies\n */\nexport class MinimalEmailService {\n    async sendEmail(options: { to: string; subject: string; text: string; html?: string }) {\n        console.log('');\n        console.log('\uD83D\uDCE7 ================================');\n        console.log('\uD83D\uDCE7 EMAIL (Not sent - console only)');\n        console.log('\uD83D\uDCE7 ================================');\n        console.log(`To: ${options.to}`);\n        console.log(`Subject: ${options.subject}`);\n        console.log(`Message: ${options.text.substring(0, 100)}...`);\n        console.log('\uD83D\uDCE7 ================================');\n        console.log('');\n        return true;\n    }\n}\n\nexport const emailService = new MinimalEmailService();\n", "import { pgTable, text, serial, integer, boolean, timestamp } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Users table\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// Contacts table\nexport const contacts = pgTable(\"contacts\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  email: text(\"email\").notNull(),\n  company: text(\"company\"),\n  service: text(\"service\").notNull(),\n  message: text(\"message\").notNull(),\n  privacy: boolean(\"privacy\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const contactSchema = z.object({\n  name: z.string().min(2, { message: 'El nombre debe tener al menos 2 caracteres' }),\n  email: z.string().email({ message: 'Por favor introduce un email v\u00E1lido' }),\n  company: z.string().optional(),\n  service: z.string({ required_error: 'Por favor selecciona un servicio' }),\n  message: z.string().min(10, { message: 'Tu mensaje debe tener al menos 10 caracteres' }),\n  privacy: z.boolean().refine(val => val === true, {\n    message: 'Debes aceptar la pol\u00EDtica de privacidad',\n  }),\n});\n\nexport type InsertContact = z.infer<typeof contactSchema>;\nexport type Contact = typeof contacts.$inferSelect;\n\n// Newsletter subscription table\nexport const newsletters = pgTable(\"newsletters\", {\n  id: serial(\"id\").primaryKey(),\n  email: text(\"email\").notNull().unique(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const newsletterSchema = z.object({\n  email: z.string().email({ message: 'Por favor introduce un email v\u00E1lido' }),\n});\n\nexport type InsertNewsletter = z.infer<typeof newsletterSchema>;\nexport type Newsletter = typeof newsletters.$inferSelect;\n\n// Schema para las citas con Eva\nexport const appointments = pgTable(\"appointments\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  email: text(\"email\").notNull(),\n  phone: text(\"phone\"),\n  company: text(\"company\"),\n  date: timestamp(\"date\").notNull(),\n  duration: integer(\"duration\").notNull().default(60), // duraci\u00F3n en minutos\n  service: text(\"service\").notNull(), // tipo de servicio requerido\n  message: text(\"message\"),\n  status: text(\"status\").notNull().default(\"pending\"), // pending, confirmed, cancelled\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const appointmentSchema = z.object({\n  name: z.string().min(2, { message: 'El nombre debe tener al menos 2 caracteres' }),\n  email: z.string().email({ message: 'Por favor introduce un email v\u00E1lido' }),\n  phone: z.string().optional(),\n  company: z.string().optional(),\n  date: z.coerce.date({ required_error: 'Por favor selecciona una fecha y hora' }),\n  duration: z.number().int().positive().default(60),\n  service: z.string({ required_error: 'Por favor selecciona un servicio' }),\n  message: z.string().optional(),\n  status: z.enum([\"pending\", \"confirmed\", \"cancelled\"]).default(\"pending\"),\n  privacy: z.boolean().refine(val => val === true, {\n    message: 'Debes aceptar la pol\u00EDtica de privacidad',\n  }),\n});\n\nexport type InsertAppointment = z.infer<typeof appointmentSchema>;\nexport type Appointment = typeof appointments.$inferSelect;\n\n// Articles table\nexport const articles = pgTable(\"articles\", {\n  id: serial(\"id\").primaryKey(),\n  slug: text(\"slug\").notNull().unique(),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  excerpt: text(\"excerpt\").notNull(),\n  image: text(\"image\").notNull(),\n  category: text(\"category\").notNull(),\n  readTime: text(\"read_time\").notNull(),\n  date: text(\"date\").notNull(),\n  language: text(\"language\").notNull().default(\"es\"),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertArticleSchema = createInsertSchema(articles).pick({\n  slug: true,\n  title: true,\n  content: true,\n  excerpt: true,\n  image: true,\n  category: true,\n  readTime: true,\n  date: true,\n  language: true,\n});\n\nexport type InsertArticle = z.infer<typeof insertArticleSchema>;\nexport type Article = typeof articles.$inferSelect;\n", "import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { type Server } from \"http\";\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  // Dynamic import to avoid loading vite in production\n  const { createServer: createViteServer, createLogger } = await import(\"vite\");\n\n  const viteLogger = createLogger();\n\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  const vite = await createViteServer({\n    server: serverOptions,\n    appType: \"custom\",\n    configFile: path.resolve(__dirname, \"..\", \"vite.config.ts\"),\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        __dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      // Apply Vite HTML transforms\n      template = await vite.transformIndexHtml(url, template);\n\n      // Load the server entry\n      const { render } = await vite.ssrLoadModule(\"/src/entry-server.tsx\");\n\n      // Render the app\n      const { html: appHtml } = await render(url);\n\n      // Inject into template\n      const html = template.replace(\n        /<div id=\"root\">(\\s*<!--app-html-->\\s*)?<\\/div>/,\n        `<div id=\"root\">${appHtml}</div>`\n      );\n\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(html);\n    } catch (e: any) {\n      vite.ssrFixStacktrace(e);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(process.cwd(), \"dist\", \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    console.error(`[serveStatic] Error: Build directory not found at ${distPath}`);\n    console.error(`[serveStatic] CWD: ${process.cwd()}`);\n    try {\n      const distRoot = path.resolve(process.cwd(), \"dist\");\n      if (fs.existsSync(distRoot)) {\n        console.error(`[serveStatic] Contents of ${distRoot}:`, fs.readdirSync(distRoot));\n      } else {\n        console.error(`[serveStatic] ${distRoot} does not exist.`);\n      }\n    } catch (e) { console.error(\"[serveStatic] Error listing dist:\", e); }\n\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // SSR for production\n  app.use(\"*\", async (req, res, next) => {\n    try {\n      const template = fs.readFileSync(path.resolve(distPath, \"index.html\"), \"utf-8\");\n\n      // In production, we import the built server entry\n      const serverEntryPath = path.resolve(process.cwd(), \"dist\", \"server\", \"entry-server.js\");\n\n      if (!fs.existsSync(serverEntryPath)) {\n        // Fallback to client-side rendering if server build is missing, simpler handling\n        res.sendFile(path.resolve(distPath, \"index.html\"));\n        return;\n      }\n\n      // Dynamic import of the server bundle\n      const { render } = await import(\"file://\" + serverEntryPath);\n\n      const { html: appHtml } = await render(req.originalUrl);\n\n      // Robust replacement: handle both unminified (with comment) and minified (empty div) scenarios\n      const html = template.replace(\n        /<div id=\"root\">(\\s*<!--app-html-->\\s*)?<\\/div>/,\n        `<div id=\"root\">${appHtml}</div>`\n      );\n\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(html);\n    } catch (e) {\n      next(e);\n    }\n  });\n}\n", "import passport from \"passport\";\nimport { Strategy as LocalStrategy } from \"passport-local\";\nimport { Express } from \"express\";\nimport session from \"express-session\";\nimport { scrypt, randomBytes, timingSafeEqual } from \"crypto\";\nimport { promisify } from \"util\";\nimport { storage } from \"./storage\";\nimport { User as SelectUser } from \"@shared/schema\";\n\nconst scryptAsync = promisify(scrypt);\n\nasync function hashPassword(password: string) {\n    const salt = randomBytes(16).toString(\"hex\");\n    const buf = (await scryptAsync(password, salt, 64)) as Buffer;\n    return `${buf.toString(\"hex\")}.${salt}`;\n}\n\nasync function comparePasswords(supplied: string, stored: string) {\n    const [hashed, salt] = stored.split(\".\");\n    const hashedBuf = Buffer.from(hashed, \"hex\");\n    const suppliedBuf = (await scryptAsync(supplied, salt, 64)) as Buffer;\n    return timingSafeEqual(hashedBuf, suppliedBuf);\n}\n\nexport function setupAuth(app: Express) {\n    const sessionSettings: session.SessionOptions = {\n        secret: process.env.SESSION_SECRET || \"super_secret_key_change_in_prod\",\n        resave: false,\n        saveUninitialized: false,\n        store: storage.sessionStore,\n    };\n\n    if (app.get(\"env\") === \"production\") {\n        app.set(\"trust proxy\", 1);\n    }\n\n    app.use(session(sessionSettings));\n    app.use(passport.initialize());\n    app.use(passport.session());\n\n    passport.use(\n        new LocalStrategy(async (username, password, done) => {\n            const user = await storage.getUserByUsername(username);\n            if (!user || !(await comparePasswords(password, user.password))) {\n                return done(null, false);\n            } else {\n                return done(null, user);\n            }\n        }),\n    );\n\n    passport.serializeUser((user, done) => done(null, (user as SelectUser).id));\n    passport.deserializeUser(async (id: number, done) => {\n        const user = await storage.getUser(id);\n        done(null, user);\n    });\n\n    app.post(\"/api/login\", passport.authenticate(\"local\"), (req, res) => {\n        res.status(200).json(req.user);\n    });\n\n    app.post(\"/api/register\", async (req, res, next) => {\n        try {\n            const existingUser = await storage.getUserByUsername(req.body.username);\n            if (existingUser) {\n                return res.status(400).send(\"Username already exists\");\n            }\n\n            const hashedPassword = await hashPassword(req.body.password);\n            const user = await storage.createUser({\n                ...req.body,\n                password: hashedPassword,\n            });\n\n            req.login(user, (err) => {\n                if (err) return next(err);\n                res.status(201).json(user);\n            });\n        } catch (err) {\n            next(err);\n        }\n    });\n\n    app.post(\"/api/logout\", (req, res, next) => {\n        req.logout((err) => {\n            if (err) return next(err);\n            res.sendStatus(200);\n        });\n    });\n\n    app.get(\"/api/user\", (req, res) => {\n        if (!req.isAuthenticated()) return res.sendStatus(401);\n        res.json(req.user);\n    });\n}\n", "import session from \"express-session\";\nimport createMemoryStore from \"memorystore\";\nimport { users, type User, type InsertUser } from \"@shared/schema\";\nimport { contacts, type Contact, type InsertContact } from \"@shared/schema\";\nimport { newsletters, type Newsletter, type InsertNewsletter } from \"@shared/schema\";\nimport { appointments, type Appointment, type InsertAppointment } from \"@shared/schema\";\nimport { articles, type Article, type InsertArticle } from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, sql } from \"drizzle-orm\";\n\nimport ConnectPgSimple from \"connect-pg-simple\";\nimport { pool } from \"./db\";\n\nconst PgSessionStore = ConnectPgSimple(session);\n\nexport interface IStorage {\n  sessionStore: session.Store;\n  getUser(id: number): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n\n  createContact(contact: InsertContact): Promise<Contact>;\n  getAllContacts(): Promise<Contact[]>;\n\n  createNewsletterSubscription(subscription: InsertNewsletter): Promise<Newsletter>;\n  getAllNewsletterSubscriptions(): Promise<Newsletter[]>;\n\n  createAppointment(appointment: InsertAppointment): Promise<Appointment>;\n  getAppointmentById(id: number): Promise<Appointment | undefined>;\n  getAllAppointments(): Promise<Appointment[]>;\n  getAppointmentsByDate(date: Date): Promise<Appointment[]>;\n  updateAppointmentStatus(id: number, status: string): Promise<Appointment | undefined>;\n  getAvailableSlots(date: Date): Promise<{ start: Date; end: Date; }[]>;\n\n  createArticle(article: InsertArticle): Promise<Article>;\n  getArticleBySlug(slug: string): Promise<Article | undefined>;\n  getAllArticles(): Promise<Article[]>;\n  updateArticle(id: number, article: Partial<InsertArticle>): Promise<Article | undefined>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  sessionStore: session.Store;\n\n  constructor() {\n    try {\n      // Try PostgreSQL session store first\n      this.sessionStore = new PgSessionStore({\n        pool,\n        createTableIfMissing: true,\n      });\n      console.log('\u2713 Using PostgreSQL session store');\n    } catch (error) {\n      // Fallback to memory store if PostgreSQL fails\n      console.warn('\u26A0 PostgreSQL session store unavailable, using memory store:', error);\n      console.warn('\u26A0 Sessions will be lost on server restart');\n\n      // Dynamically import memorystore only if needed\n      try {\n        const createMemoryStore = require('memorystore');\n        const MemoryStore = createMemoryStore(session);\n        this.sessionStore = new MemoryStore({\n          checkPeriod: 86400000 // prune expired entries every 24h\n        });\n      } catch (memError) {\n        // If memorystore is not available, use default\n        console.error('\u274C Cannot load memorystore, using default session store');\n        this.sessionStore = new session.MemoryStore();\n      }\n    }\n  }\n\n  // User methods\n  async getUser(id: number): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n  // ... rest of the class implementation remains the same, just need to make sure I don't delete it.\n  // I will use replace_file_content carefully.\n\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.username, username));\n    return user;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db.insert(users).values(insertUser).returning();\n    return user;\n  }\n\n  // Contact methods\n  async createContact(insertContact: InsertContact): Promise<Contact> {\n    const [contact] = await db.insert(contacts).values({\n      name: insertContact.name,\n      email: insertContact.email,\n      company: insertContact.company || null,\n      service: insertContact.service,\n      message: insertContact.message,\n      privacy: insertContact.privacy,\n    }).returning();\n\n    return contact;\n  }\n\n  async getAllContacts(): Promise<Contact[]> {\n    return await db.select().from(contacts);\n  }\n\n  // Newsletter methods\n  async createNewsletterSubscription(insertNewsletter: InsertNewsletter): Promise<Newsletter> {\n    // Check if email already exists\n    const [existingSubscription] = await db.select()\n      .from(newsletters)\n      .where(eq(newsletters.email, insertNewsletter.email));\n\n    if (existingSubscription) {\n      return existingSubscription;\n    }\n\n    const [subscription] = await db.insert(newsletters)\n      .values(insertNewsletter)\n      .returning();\n\n    return subscription;\n  }\n\n  async getAllNewsletterSubscriptions(): Promise<Newsletter[]> {\n    return await db.select().from(newsletters);\n  }\n\n  // Appointment methods\n  async createAppointment(insertAppointment: InsertAppointment): Promise<Appointment> {\n    const [appointment] = await db.insert(appointments).values({\n      name: insertAppointment.name,\n      email: insertAppointment.email,\n      phone: insertAppointment.phone || null,\n      company: insertAppointment.company || null,\n      date: insertAppointment.date,\n      duration: insertAppointment.duration,\n      service: insertAppointment.service,\n      message: insertAppointment.message || null,\n      status: insertAppointment.status,\n    }).returning();\n\n    this.invalidateAvailabilityCache(new Date(insertAppointment.date));\n\n    return appointment;\n  }\n\n  async getAppointmentById(id: number): Promise<Appointment | undefined> {\n    const [appointment] = await db.select().from(appointments).where(eq(appointments.id, id));\n    return appointment;\n  }\n\n  async getAllAppointments(): Promise<Appointment[]> {\n    return await db.select().from(appointments);\n  }\n\n  async getAppointmentsByDate(date: Date): Promise<Appointment[]> {\n    // Obtener todas las citas para una fecha espec\u00EDfica (ignora la hora)\n    const startOfDay = new Date(date);\n    startOfDay.setHours(0, 0, 0, 0);\n\n    const endOfDay = new Date(date);\n    endOfDay.setHours(23, 59, 59, 999);\n\n    const result = await db.select()\n      .from(appointments)\n      .where(\n        sql`${appointments.date} >= ${startOfDay} AND ${appointments.date} <= ${endOfDay}`\n      );\n\n    return result;\n  }\n\n  async updateAppointmentStatus(id: number, status: string): Promise<Appointment | undefined> {\n    const [appointment] = await db.update(appointments)\n      .set({ status })\n      .where(eq(appointments.id, id))\n      .returning();\n\n    if (appointment) {\n      this.invalidateAvailabilityCache(new Date(appointment.date));\n    }\n\n    return appointment;\n  }\n\n\n  // Cache for availability\n  private availabilityCache: Map<string, { data: { start: Date; end: Date; }[], timestamp: number }> = new Map();\n  private CACHE_TTL = 5 * 60 * 1000; // 5 minutes\n\n  async getAvailableSlots(date: Date): Promise<{ start: Date; end: Date; }[]> {\n    const cacheKey = date.toISOString().split('T')[0];\n    const cached = this.availabilityCache.get(cacheKey);\n\n    if (cached && (Date.now() - cached.timestamp < this.CACHE_TTL)) {\n      return cached.data;\n    }\n\n    // Horario de trabajo: 9:00 AM a 6:00 PM\n    const workStartHour = 9;\n    const workEndHour = 18;\n\n    // Duraci\u00F3n de cada cita en minutos\n    const slotDuration = 60;\n\n    // Obtener todas las citas para esta fecha\n    const bookedAppointments = await this.getAppointmentsByDate(date);\n\n    // Crear array con todos los slots posibles para ese d\u00EDa\n    const allSlots: { start: Date; end: Date; }[] = [];\n\n    const startOfDay = new Date(date);\n    startOfDay.setHours(workStartHour, 0, 0, 0);\n\n    const endOfDay = new Date(date);\n    endOfDay.setHours(workEndHour, 0, 0, 0);\n\n    // Generar todos los slots posibles del d\u00EDa\n    let currentSlotStart = new Date(startOfDay);\n\n    while (currentSlotStart < endOfDay) {\n      const currentSlotEnd = new Date(currentSlotStart);\n      currentSlotEnd.setMinutes(currentSlotStart.getMinutes() + slotDuration);\n\n      // Solo a\u00F1adir si el slot termina antes del fin del d\u00EDa laboral\n      if (currentSlotEnd <= endOfDay) {\n        allSlots.push({\n          start: new Date(currentSlotStart),\n          end: new Date(currentSlotEnd)\n        });\n      }\n\n      // Avanzar al siguiente slot\n      currentSlotStart.setMinutes(currentSlotStart.getMinutes() + slotDuration);\n    }\n\n    // Filtrar los slots que ya est\u00E1n reservados\n    const availableSlots = allSlots.filter(slot => {\n      return !bookedAppointments.some(appointment => {\n        const appointmentStartTime = new Date(appointment.date);\n        const appointmentEndTime = new Date(appointment.date);\n        appointmentEndTime.setMinutes(appointmentEndTime.getMinutes() + appointment.duration);\n\n        // Un slot est\u00E1 ocupado si se superpone con una cita existente\n        return (\n          (slot.start >= appointmentStartTime && slot.start < appointmentEndTime) ||\n          (slot.end > appointmentStartTime && slot.end <= appointmentEndTime) ||\n          (slot.start <= appointmentStartTime && slot.end >= appointmentEndTime)\n        );\n      });\n    });\n\n    this.availabilityCache.set(cacheKey, { data: availableSlots, timestamp: Date.now() });\n    return availableSlots;\n  }\n\n  private invalidateAvailabilityCache(date: Date) {\n    const cacheKey = date.toISOString().split('T')[0];\n    this.availabilityCache.delete(cacheKey);\n  }\n\n  // Article methods\n  async createArticle(insertArticle: InsertArticle): Promise<Article> {\n    const [article] = await db.insert(articles).values(insertArticle).returning();\n    return article;\n  }\n\n  async getArticleBySlug(slug: string): Promise<Article | undefined> {\n    const [article] = await db.select().from(articles).where(eq(articles.slug, slug));\n    return article;\n  }\n\n  async getAllArticles(): Promise<Article[]> {\n    return await db.select().from(articles).orderBy(sql`${articles.createdAt} DESC`);\n  }\n\n  async updateArticle(id: number, articleUpdate: Partial<InsertArticle>): Promise<Article | undefined> {\n    const [updatedArticle] = await db.update(articles)\n      .set(articleUpdate)\n      .where(eq(articles.id, id))\n      .returning();\n    return updatedArticle;\n  }\n}\n\n// Export a singleton instance of the storage\nexport const storage = new DatabaseStorage();\n", "import { neonConfig, Pool } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from 'ws';\nimport * as schema from '@shared/schema';\n\nneonConfig.webSocketConstructor = ws;\n\nlet pool: Pool;\nlet db: ReturnType<typeof drizzle>;\n\nif (!process.env.DATABASE_URL) {\n  console.warn('\u26A0\uFE0F DATABASE_URL not set - database features will be limited');\n  console.warn('\u26A0\uFE0F Sessions will use memory store');\n  // Create a dummy pool that won't be used\n  pool = new Pool({ connectionString: 'postgresql://dummy:dummy@localhost:5432/dummy' });\n  db = drizzle({ client: pool, schema });\n} else {\n  pool = new Pool({ connectionString: process.env.DATABASE_URL });\n  db = drizzle({ client: pool, schema });\n}\n\nexport { pool, db };"],
  "mappings": "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",
  "names": ["import_express", "express", "import_zod", "rateLimit", "text", "app", "express", "appointments", "OpenAI", "articles", "import_express", "app", "path", "fs", "express", "import_express_session", "import_express_session", "ws", "ConnectPgSimple", "session", "storage", "app", "storage", "session", "passport", "LocalStrategy", "express", "helmet", "path"]
}
